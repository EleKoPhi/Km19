<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
		  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" />
	<title></title>
	<style type="text/css">
		#usertable tr:nth-child(even) {
			background: #dedede
		}

		#usertable tr:nth-child(odd) {
			background: #FFF
		}

		th {
			padding: 5px;
		}

		td {
			text-align: center;
		}

		th {
			background-color: #519fff;
		}
	</style>
	<script type="text/javascript">
		function editUser(button) {
			var columns = button.parentNode.parentNode.children;
			var cardId = columns[0].innerText;
			var name = columns[1].innerText;
			var isallowed = columns[2].innerText;

			document.getElementById("editCardId").value = cardId;
			document.getElementById("editName").value = name;
			document.getElementById("editIsAllowed").checked = isallowed == "0"? false : true;

			document.getElementById("editForm").style = "display:block";
			document.getElementById("usertable").style = "display:none";
		}
		function cancelEdit() {
			document.getElementById("editForm").style = "display:none";
			document.getElementById("usertable").style = "display:block";
		}
	</script>
</head>
<body>
	<div id="editForm" style="display: none">
		<h1>edit</h1>
		<form action="users.htm" method="get">
			<table>
				<thead>
					<tr>
						<th>Card ID</th>
						<th>Name</th>
						<th>isAllowed</th>
						<th>Change</th>
					</tr>
				</thead>
				<tr>
					<td>
						<input id="editCardId" name="editCardId" type="text" value="" readonly="readonly" />
					</td>
					<td>
						<input id="editName" name="editName" type="text" value="" />
					</td>
					<td>
						<input id="editIsAllowed" name="editIsAllowed" type="checkbox" value="1" />
					</td>
					<td>
						<input type="submit" value="confirm" />
					</td>
				</tr>
				<tr>
					<td />
					<td />
					<td />
					<td>
						<input type="reset" value="cancel" onclick="cancelEdit()" />
					</td>
				</tr>
			</table>
		</form>
	</div>
	<table id="usertable">
		<thead>
			<tr>
				<th>Card ID</th>
				<th>Name</th>
				<th>isAllowed</th>
				<th>Change</th>
			</tr>
		</thead>
		<!--[user:]-->
		<tr>
			<td>
				<!--[cardid]-->
			</td>
			<td>
				<!--[username]-->
			</td>
			<td>
				<!--[isallowed]-->
			</td>
			<td>
				<button onclick="editUser(this)">edit</button>
			</td>
		</tr>
		<!--[/user]-->
	</table>
</body>
</html>
